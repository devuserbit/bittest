<?xml version="1.0" ?><!--
    Copyright (c) 2012 - BIT Analytical Instruments GmbH. All rights reserved
    
    $LastChangedDate:  $
    $Rev:  $
    $URL:  $

    This is the default description xml for the HSMService scaffolding 
    function. If no xml file was found in the designated folder this one 
    will be used instead creating the same template as found in:
    
        common/BaseClasses/CHSMService/Template folder
    
    1. Important conventions:
        
        - 'C' is not allowed in the hsm_service name attribute
        - 'C', 'HSM', 'Service', 'State', 'hsm_service', 'initial', 'callbacks'  
          are keywords and must not be used in any tag attributes
          
         
    2. Designated tags/atributtes:
    
        <hsm_service>                       This must be the uppermost tag in the hierarchy
            name=""                         Name of the hsm_service, if omitted "HSMTemplateService" will be used
            
            path=""                         Absolute path of the location where the state machine should be placed.
                                            The script checks if the last given folder is present and if not it will be
                                            created only when every other folder is present.
                                            ! This path is lover in priority then the path passed through the command line
                                            interface !
            
        <state>                             Tag describing a state of the hsm machine
            name=""                         name of the state
            
            Initial="True"                  Marks the initial state (only accepted inside state tag)
                                            (if by mistake multiple states have initial attributes
                                            then only the first encountered is used)
        
            Dynamic="True"                  Marks a dynamic state. Multiple states can be dynamic
            
        <callbacks>                         Callback functions to be implemented
                                            If omitted no callback functions will be implemented
                                  
            <entry />,<active />,<exit />   Callback functions :
                                                * entry     - OnEntry()
                                                * active    - OnActive()
                                                * exit      - OnExit()
                                            ! Only accepted inside the <callbacks> tag!
                                            ! Empty-element-tag only !
        
        <default_fct>                       Default functions tag 
            cmd, stdcmd,                    Defines which command handle functions
            reset, event,                   should be implemented inside the states OnActive() function:
            abort,timer,resp,                   * cmd       - OnCommandMsg
            all                                 * stdcmd    - OnStdCommandMsg
                                                * reset     - OnResetMsg
                                                * resp      - OnResponseMsg
                                                * event     - OnEventMsg
                                                * abort     - OnAbortMsg
                                                * timer     - OnTimerMsg
                                                
                                                *all        - All previous functions
                                            ! Empty-element-tags only !
                                            
                                             <default_fct> <cmd /> <stdcmd /> <abort /> <reset /> <timer /> <resp /> </default_fct>
                                                
                                                
    3. Design Guidelines:
        
        a. The xml file must contain at least one of the following keywords:
        
                HSM, Service
    
        b. States included in each other have a parent-child relationship:
            
            <state name="Root">
                <state name="Idle">
                </state>
                <state name="Busy">
                    <state name="Activity">
                    </state>
                </state>
            </state>
            
        The hierarchy above will look like the following in code:
        
            Root
            |  |
            |  |____ Idle
            |
            |_______ Busy
                      |
                      |____ Activity
        
--><hsm_service name="!Template" path="C:\Projects\Tools\HSMTemplateScaffolding\TestService\">
    <state name="!Root">
        <callbacks> <entry/> <active/> </callbacks>
        <default_fct> <all/> </default_fct>
            
        <state Initial="True" name="!Reset">
            <callbacks> <active/> </callbacks>
            <default_fct> <cmd/> </default_fct>
        </state>
        
        <state name="!Ready">
            <callbacks> <active/> </callbacks>
            <default_fct> <cmd/> <stdcmd/> </default_fct>
        </state>
        
        <state name="!Busy">
            <callbacks> <entry/> <active/> <exit/> </callbacks>
            <default_fct> <cmd/> <stdcmd/> <abort/> <reset/> <timer/> </default_fct>
            
            <state name="!Activity">
            <callbacks> <entry/> <active/> <exit/> </callbacks>
            <default_fct> <cmd/> <stdcmd/> <abort/> <reset/> <timer/> </default_fct>
            </state>
            
            <state name="!Activity2">
            <callbacks> <entry/> <active/> <exit/> </callbacks>
            <default_fct> <cmd/> <stdcmd/> <abort/> <reset/> <timer/> </default_fct>
            </state>
        
        </state>
        
    </state>
</hsm_service>